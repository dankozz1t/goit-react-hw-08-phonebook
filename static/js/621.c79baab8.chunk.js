"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[621],{3418:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var r="Section_title__SLHvV",a=t(184),o=function(e){var n=e.title,t=e.children;return(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:r,children:n}),t]})}},1621:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(2791),a=t(3418),o=t(885),i=t(8235),s=t(9085),c=t(3144),l=t(5671),u=t(136),m=t(4104),d=t(7465),f=function(e){(0,u.Z)(t,e);var n=(0,m.Z)(t);function t(){var e;(0,l.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).submit=function(){e.emit("confetti",!0)},e.close=function(){e.emit("confetti",!1)},e}return(0,c.Z)(t)}(t.n(d)()),h=new f,x=t(4566),p=t(3360),Z=t(2677),j=t(9186),v=t(9743),b=t(1413),w=function(e,n){switch(n.type){case"name":return(0,b.Z)((0,b.Z)({},e),{},{name:n.payload});case"number":return(0,b.Z)((0,b.Z)({},e),{},{number:n.payload});case"reset":return(0,b.Z)({},n.payload);default:return e}},y="ContactForm_row__N6rAe",_=t(184),N={number:"",name:""},C=function(){var e=(0,r.useReducer)(w,N),n=(0,o.Z)(e,2),t=n[0],a=t.name,c=t.number,l=n[1],u=(0,i.Jx)().data,m=(0,i.Tn)(),d=(0,o.Z)(m,2),f=d[0],b=d[1],C=b.isLoading,g=b.isError;(0,r.useEffect)((function(){h.submit()}),[u]);var L=function(e){var n=e.toLowerCase();return!u.find((function(e){return e.name.toLowerCase()===n}))||(s.Am.info('"'.concat(e,'" is already in contacts')),!1)},E=function(e){var n=e.currentTarget,t=n.name,r=n.value;l({type:t,payload:r})};g&&s.Am.info("Error");var A="align-items-center ".concat(y);return(0,_.jsxs)(j.Z,{onSubmit:function(e){e.preventDefault(),L(a)&&(f({name:a,number:c}),s.Am.info('"'.concat(a,'" added to your contacts'))),l({type:"reset",payload:N})},children:[(0,_.jsxs)(v.Z,{className:A,children:[(0,_.jsxs)(Z.Z,{xs:!0,children:[(0,_.jsx)(j.Z.Label,{htmlFor:"name",className:"formLabel",children:"Name"}),(0,_.jsx)(j.Z.Control,{className:"mb-2",id:"name",placeholder:"Alex",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:a,onChange:E,required:!0})]}),(0,_.jsxs)(Z.Z,{xs:!0,children:[(0,_.jsx)(j.Z.Label,{htmlFor:"number",className:"formLabel",children:"Phone"}),(0,_.jsx)(j.Z.Control,{className:"mb-2",id:"number",placeholder:"410-371-6599",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:c,onChange:E,required:!0})]})]}),(0,_.jsx)("div",{className:"d-grid gap-2 marginBottom",children:(0,_.jsx)(p.Z,{variant:"primary",type:"submit",disabled:C,children:C?(0,_.jsx)(x.Z,{width:"45",height:"10",color:"#fff"}):(0,_.jsx)("span",{children:"Add Contact"})})})]})},g=t(5048),L=t(300),E=function(e){return e.filter.filter},A=function(){var e=(0,g.v9)(E,g.wU),n=(0,g.I0)();return(0,_.jsx)(j.Z,{className:"marginBottom",children:(0,_.jsxs)(j.Z.Group,{as:v.Z,className:"mb-3",controlId:"formHorizontalEmail",children:[(0,_.jsx)(j.Z.Label,{column:!0,sm:6,className:"formLabel",children:"Find contacts by name"}),(0,_.jsx)(Z.Z,{sm:6,children:(0,_.jsx)(j.Z.Control,{type:"text",placeholder:"Alex",onChange:function(e){n((0,L.T)(e.target.value))},value:e,name:"filter",title:"Find contacts by name"})})]})})},z=t(8058),k={row:"ContactItem_row__seopa",colName:"ContactItem_colName__YqDc1",colButton:"ContactItem_colButton__8G4kF",colPhone:"ContactItem_colPhone__ueQkK",name:"ContactItem_name__XjpNK",phone:"ContactItem_phone__Q4h3y"},I=function(e){var n=e.id,t=e.name,r=e.number,a=(0,i.Nt)(),c=(0,o.Z)(a,2),l=c[0],u=c[1],m=u.isLoading;return u.isError?(s.Am.info("Error"),(0,_.jsx)("h2",{className:"formLabel errorSize",children:"ERROR"})):(0,_.jsx)(z.Z.Item,{style:{borderRadius:"5px"},children:(0,_.jsxs)(v.Z,{className:k.row,children:[(0,_.jsx)(Z.Z,{className:k.colName,children:(0,_.jsxs)("span",{className:k.name,children:[" ",t," "]})}),(0,_.jsx)(Z.Z,{className:k.colPhone,children:(0,_.jsxs)("span",{className:k.number,children:[" ",r," "]})}),(0,_.jsx)(Z.Z,{className:k.colButton,children:(0,_.jsx)(p.Z,{type:"button",onClick:function(){l(n),s.Am.info('"'.concat(t,'" removed from your contacts'))},disabled:m,variant:"primary",children:m?(0,_.jsx)(x.Z,{width:"45",height:"10",color:"#fff"}):(0,_.jsx)("span",{children:"Delete"})})})]})})},R="ContactList_list__csErn",S=function(){var e=(0,g.v9)(E,g.wU),n=(0,i.Jx)(),t=n.data,a=n.isLoading,o=n.isError,c=(0,r.useMemo)((function(){if(!a)return t?t.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase().trim())})):void 0}),[e,t,a]);if(a)return(0,_.jsx)(x.Z,{});if(o)return s.Am.info("Error"),(0,_.jsx)("h2",{className:"formLabel errorSize",children:"ERROR"});if(0===c.length)return(0,_.jsx)("h2",{className:"formLabel errorSize",children:"Contact not found"});var l=c.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,_.jsx)(I,{id:n,name:t,number:r},n)}));return(0,_.jsx)(z.Z,{className:R,variant:"flush",children:l})},P=t(1425),F=t.n(P),T=t(4164),B=function(){var e=(0,r.useState)(!0),n=(0,o.Z)(e,2),t=n[0],a=n[1],i=(0,r.useState)({y:window.innerHeight,x:window.innerWidth-20}),s=(0,o.Z)(i,2),c=s[0],l=s[1];return(0,r.useEffect)((function(){var e=function(){var e;return l({y:null===(e=window)||void 0===e?void 0:e.innerHeight,x:window.innerWidth-20})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((function(){var e=setTimeout((function(){a(!1)}),2e3);return function(){clearTimeout(e)}}),[]),T.createPortal((0,_.jsx)(F(),{style:{position:"fixed",top:0,left:0,zIndex:1e5,width:"100%",pointerEvents:"none"},numberOfPieces:t?200:0,gravity:.3,onConfettiComplete:function(e){a(!1),null===e||void 0===e||e.reset()},width:c.x,height:c.y}),document.body)},H=function(){var e=(0,r.useRef)(null),n=(0,r.useState)(!1),t=(0,o.Z)(n,2),a=t[0],i=t[1];return(0,r.useEffect)((function(){return h.on("confetti",i),function(){h.off("confetti",i)}}),[]),(0,r.useEffect)((function(){return a&&(e.current=setTimeout((function(){h.close()}),4e3)),function(){e.current&&clearTimeout(e.current)}}),[a]),a&&(0,_.jsx)(B,{})},q=function(){return(0,_.jsxs)("main",{className:"box",children:[(0,_.jsx)(a.Z,{title:"Phonebook",children:(0,_.jsx)(C,{})}),(0,_.jsx)(A,{}),(0,_.jsx)(S,{}),(0,_.jsx)(H,{})]})}}}]);
//# sourceMappingURL=621.c79baab8.chunk.js.map