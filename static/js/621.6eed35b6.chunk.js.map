{"version":3,"file":"static/js/621.6eed35b6.chunk.js","mappings":"mLACA,EAAwB,uB,SCoBxB,EAjBgB,SAAC,GAAyB,IAAvBA,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACxB,OACE,gCACE,eAAIC,UAAWC,EAAf,SAAyBH,IACxBC,IAGN,C,gKCTKG,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAOH,OAPGA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACJC,OAAS,WACP,EAAKC,KAAK,YAAY,EACvB,IAEDC,MAAQ,WACN,EAAKD,KAAK,YAAY,EACvB,qBAPGF,C,MAAqBI,IAUdC,EAAQ,IAAIL,E,wCCIzB,EAhBqB,SAACM,EAAOC,GAC3B,OAAQA,EAAOC,MACb,IAAK,OACH,OAAO,kBAAKF,GAAZ,IAAmBG,KAAMF,EAAOG,UAElC,IAAK,SACH,OAAO,kBAAKJ,GAAZ,IAAmBK,OAAQJ,EAAOG,UAEpC,IAAK,QACH,OAAO,UAAKH,EAAOG,SAErB,QACE,OAAOJ,EAEZ,E,kDCbD,EAAsB,yB,SCuBhBM,EAAe,CACnBD,OAAQ,GACRF,KAAM,IAmGR,EAhGoB,WAClB,IAAMI,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,EAAaC,EAAAA,IAEtC,GAA4CC,EAAAA,EAAAA,YAC1CC,EACAN,GAFF,sBAASH,EAAT,EAASA,KAAME,EAAf,EAAeA,OAAUQ,EAAzB,KAKcC,GAAaC,EAAAA,EAAAA,MAAnBC,KACR,GACEC,EAAAA,EAAAA,MADF,eAAOC,EAAP,YAAgCC,EAAhC,EAAqBC,UAAuBC,EAA5C,EAA4CA,SAG5CC,EAAAA,EAAAA,YAAU,WACRvB,EAAMJ,QACP,GAAE,CAACmB,IAEJ,IASMS,EAAe,SAAAC,GACnB,IAAMC,EAAeD,EAAQE,cAC7B,OAAIZ,EAASa,MAAK,qBAAGxB,KAAgBuB,gBAAkBD,CAArC,MAChBG,EAAAA,GAAAA,KAAA,WAAeJ,EAAf,aAA2BjB,EAAKsB,iCACzB,EAGV,EAEKC,EAAoB,SAAAC,GACxB,MAAwBA,EAAEC,cAAlB7B,EAAR,EAAQA,KAAM8B,EAAd,EAAcA,MACdpB,EAAgB,CAAEX,KAAMC,EAAMC,QAAS6B,GACxC,EAEGZ,GACFO,EAAAA,GAAAA,KAAWrB,EAAK2B,wBAGlB,IAAMC,EAAY,6BAAyB1C,GAE3C,OACE,UAAC2C,EAAA,EAAD,CAAMC,SA9BiB,SAAAN,GACvBA,EAAEO,iBACEf,EAAapB,KACfe,EAAW,CAAEf,KAAAA,EAAME,OAAAA,IACnBuB,EAAAA,GAAAA,KAAA,WAAezB,EAAf,aAAwBI,EAAKgC,0BAE/B1B,EAAgB,CAAEX,KAAM,QAASE,QAASE,GAC3C,EAuBC,WACE,UAACkC,EAAA,EAAD,CAAKhD,UAAW2C,EAAhB,WACE,UAACM,EAAA,EAAD,CAAKC,IAAE,EAAP,WACE,SAACN,EAAA,QAAD,CAAYO,QAAQ,OAAOnD,UAAU,YAArC,SACGe,EAAKqC,uBAER,SAACR,EAAA,UAAD,CACE5C,UAAU,OACVqD,GAAG,OACHC,YAAavC,EAAKwC,0BAClB7C,KAAK,OACLC,KAAK,OACL6C,QAAQ,yHACR1D,MAAOiB,EAAK0C,oBACZhB,MAAO9B,EACP+C,SAAUpB,EACVqB,UAAQ,QAGZ,UAACV,EAAA,EAAD,CAAKC,IAAE,EAAP,WACE,SAACN,EAAA,QAAD,CAAYO,QAAQ,SAASnD,UAAU,YAAvC,SACGe,EAAK6C,wBAER,SAAChB,EAAA,UAAD,CACE5C,UAAU,OACVqD,GAAG,SACHC,YAAavC,EAAK8C,2BAClBnD,KAAK,MACLC,KAAK,SACL6C,QAAQ,yFACR1D,MAAOiB,EAAK+C,qBACZrB,MAAO5B,EACP6C,SAAUpB,EACVqB,UAAQ,WAId,gBAAK3D,UAAU,4BAAf,UACE,SAAC+D,EAAA,EAAD,CAAQC,QAAQ,UAAUtD,KAAK,SAASuD,SAAUtC,EAAlD,SACGA,GACC,SAACuC,EAAA,EAAD,CAAQC,MAAM,KAAKC,OAAO,KAAKC,MAAM,UAErC,0BAAOtD,EAAKuD,2BAMvB,E,SC3HYC,EAAY,SAAA/D,GAAK,OAAIA,EAAMgE,OAAOA,MAAjB,ECyC9B,EA9Be,WACb,IAAMzD,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,EAAaC,EAAAA,IAChCsD,GAASxD,EAAAA,EAAAA,IAAYuD,EAAWrD,EAAAA,IAChCuD,GAAWC,EAAAA,EAAAA,MAMjB,OACE,SAAC9B,EAAA,EAAD,CAAM5C,UAAU,eAAhB,UACE,UAAC4C,EAAA,QAAD,CAAY+B,GAAI3B,EAAAA,EAAKhD,UAAU,OAAO4E,UAAU,sBAAhD,WACE,SAAChC,EAAA,QAAD,CAAYiC,QAAM,EAACC,GAAG,OAAO9E,UAAU,YAAvC,SACGe,EAAKgE,yBAER,SAAC9B,EAAA,EAAD,CAAK6B,IAAE,EAAP,UACE,SAAClC,EAAA,UAAD,CACElC,KAAK,OACL4C,YAAavC,EAAKiE,4BAClBtB,SAdiB,SAAAnB,GACzBkC,GAASQ,EAAAA,EAAAA,GAAU1C,EAAE2C,OAAOzC,OAC7B,EAaSA,MAAO+B,EACP7D,KAAK,SACLb,MAAOiB,EAAKoE,8BAMvB,E,UCtCD,GAAgB,IAAM,yBAAyB,QAAU,6BAA6B,UAAY,+BAA+B,SAAW,8BAA8B,KAAO,0BAA0B,MAAQ,4BCmEnN,EArDoB,SAAC,GAA0B,IAAxB9B,EAAuB,EAAvBA,GAAI1C,EAAmB,EAAnBA,KAAME,EAAa,EAAbA,OAC/B,GACEuE,EAAAA,EAAAA,MADF,eAAOC,EAAP,YAAmC1D,EAAnC,EAAwBC,UASxB,OATA,EAA+CC,SAU7CO,EAAAA,GAAAA,KAAA,UACO,eAAIpC,UAAU,sBAAd,qBAIP,SAACsF,EAAA,OAAD,CACEC,MAAO,CACLC,aAAc,OAFlB,UAKE,UAACxC,EAAA,EAAD,CAAKhD,UAAWC,EAAAA,IAAhB,WACE,SAACgD,EAAA,EAAD,CAAKjD,UAAWC,EAAAA,QAAhB,UACE,kBAAMD,UAAWC,EAAAA,KAAjB,cAA2BU,EAA3B,UAEF,SAACsC,EAAA,EAAD,CAAKjD,UAAWC,EAAAA,SAAhB,UACE,kBAAMD,UAAWC,EAAAA,OAAjB,cAA6BY,EAA7B,UAEF,SAACoC,EAAA,EAAD,CAAKjD,UAAWC,EAAAA,UAAhB,UACE,SAAC8D,EAAA,EAAD,CACErD,KAAK,SACL+E,QA3BgB,WACxBJ,EAAchC,GAEdjB,EAAAA,GAAAA,KAAA,WAAezB,EAAf,gCACD,EAwBSsD,SAAUtC,EACVqC,QAAQ,UAJV,SAMGrC,GACC,SAACuC,EAAA,EAAD,CAAQC,MAAM,KAAKC,OAAO,KAAKC,MAAM,UAErC,6CAOb,EC3DD,EAAuB,0BC2DvB,EA5CoB,WAClB,IAAMtD,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,EAAaC,EAAAA,IAEhCsD,GAASxD,EAAAA,EAAAA,IAAYuD,EAAWrD,EAAAA,IACtC,GAA+CK,EAAAA,EAAAA,MAAjCD,EAAd,EAAQE,KAAgBI,EAAxB,EAAwBA,UAAWC,EAAnC,EAAmCA,QAE7B6D,GAAmBC,EAAAA,EAAAA,UAAQ,WAC/B,IAAI/D,EAIJ,OAAIN,EACKA,EAASkD,QAAO,qBAAG7D,KACnBuB,cAAc0D,SAASpB,EAAOtC,cAAc2D,OAD5B,SADzB,CAKD,GAAE,CAACrB,EAAQlD,EAAUM,IAEtB,GAAIA,EACF,OAAO,SAACsC,EAAA,EAAD,IAGT,GAAIrC,EAEF,OADAO,EAAAA,GAAAA,KAAA,UAEE,eAAIpC,UAAU,sBAAd,SAAqCe,EAAK2B,yBAI9C,GAAgC,IAA5BgD,EAAiBI,OACnB,OAAO,eAAI9F,UAAU,sBAAd,SAAqCe,EAAKgF,uBAGnD,IAAMC,EAAWN,EAAiBO,KAAI,gBAAG5C,EAAH,EAAGA,GAAI1C,EAAP,EAAOA,KAAME,EAAb,EAAaA,OAAb,OACpC,SAAC,EAAD,CAAsBwC,GAAIA,EAAI1C,KAAMA,EAAME,OAAQA,GAAhCwC,EADkB,IAItC,OACE,SAACiC,EAAA,EAAD,CAAWtF,UAAWC,EAAQ+D,QAAQ,QAAtC,SACGgC,GAGN,E,6BChDYE,EAAW,WACtB,OAA0BC,EAAAA,EAAAA,WAAS,GAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwBF,EAAAA,EAAAA,UAAS,CAC/BG,EAAGC,OAAOC,YACVC,EAAGF,OAAOG,WAAa,KAFzB,eAAOC,EAAP,KAAaC,EAAb,KAsBA,OAjBA9E,EAAAA,EAAAA,YAAU,WACR,IAAM+E,EAAS,wBACbD,EAAQ,CAAEN,EAAC,UAAEC,cAAF,aAAE,EAAQC,YAAaC,EAAGF,OAAOG,WAAa,IAD5C,EAGf,OADAH,OAAOO,iBAAiB,SAAUD,GAC3B,kBAAMN,OAAOQ,oBAAoB,SAAUF,EAA3C,CACR,GAAE,KAEH/E,EAAAA,EAAAA,YAAU,WACR,IAAMuB,EAAK2D,YAAW,WACpBX,GAAS,EACV,GAnBsB,KAqBvB,OAAO,WACLY,aAAa5D,EACd,CACF,GAAE,IAEI6D,EAAAA,cACL,SAAC,IAAD,CACE3B,MAAO,CACL4B,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,OAAQ,IACRnD,MAAO,OACPoD,cAAe,QAEjBC,eAAgBpB,EAAQ,IAAM,EAC9BqB,QAAS,GACTC,mBAAoB,SAAAC,GAClBtB,GAAS,GACD,OAARsB,QAAQ,IAARA,GAAAA,EAAUC,OACX,EACDzD,MAAOwC,EAAKF,EACZrC,OAAQuC,EAAKL,IAEfuB,SAASC,KAEZ,EAEYC,EAAoB,WAC/B,IAAMC,GAAYC,EAAAA,EAAAA,QAAO,MACzB,GAA4B9B,EAAAA,EAAAA,WAAS,GAArC,eAAO+B,EAAP,KAAeC,EAAf,KAuBA,OArBArG,EAAAA,EAAAA,YAAU,WAER,OADAvB,EAAM6H,GAAG,WAAYD,GACd,WACL5H,EAAM8H,IAAI,WAAYF,EACvB,CACF,GAAE,KAEHrG,EAAAA,EAAAA,YAAU,WAOR,OANIoG,IACFF,EAAUM,QAAUtB,YAAW,WAC7BzG,EAAMF,OACP,GAjES,MAoEL,WACD2H,EAAUM,SACZrB,aAAae,EAAUM,QAE1B,CACF,GAAE,CAACJ,IAEGA,IAAU,SAAChC,EAAD,GAClB,ECxDD,EAhBsB,WACpB,IAAMnF,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,EAAaC,EAAAA,IAEtC,OACE,kBAAMlB,UAAU,MAAhB,WACE,SAACuI,EAAA,EAAD,CAASzI,MAAOiB,EAAKyH,eAArB,UACE,SAAC,EAAD,OAGF,SAAC,EAAD,KAEA,SAAC,EAAD,KACA,SAACT,EAAD,MAGL,C","sources":["webpack://react-homework-template/./src/components/Section/Section.module.css?dbe8","components/Section/Section.jsx","components/Confetti/utils.js","components/ContactForm/inputReducer.js","webpack://react-homework-template/./src/components/ContactForm/ContactForm.module.css?b5b2","components/ContactForm/ContactForm.jsx","redux/contacts/filter/selectors.js","components/Filter/Filter.jsx","webpack://react-homework-template/./src/components/ContactItem/ContactItem.module.css?be2b","components/ContactItem/ContactItem.jsx","webpack://react-homework-template/./src/components/ContactList/ContactList.module.css?1ce0","components/ContactList/ContactList.jsx","components/Confetti/Confetti.jsx","pages/PhonebookPage/PhonebookPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Section_title__SLHvV\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nconst Section = ({ title, children }) => {\n  return (\n    <section>\n      <h1 className={s.title}>{title}</h1>\n      {children}\n    </section>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n\nexport default Section;\n","import EventEmitter from 'events';\n\nclass LoginEmmiter extends EventEmitter {\n  submit = () => {\n    this.emit('confetti', true);\n  };\n\n  close = () => {\n    this.emit('confetti', false);\n  };\n}\n\nexport const login = new LoginEmmiter();\n","const inputReducer = (state, action) => {\n  switch (action.type) {\n    case 'name':\n      return { ...state, name: action.payload };\n\n    case 'number':\n      return { ...state, number: action.payload };\n\n    case 'reset':\n      return { ...action.payload };\n\n    default:\n      return state;\n  }\n};\n\nexport default inputReducer;\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"ContactForm_row__N6rAe\"};","import React, { useEffect, useReducer } from 'react';\n\nimport { toast } from 'react-toastify';\nimport { login } from '../Confetti/utils';\n\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { getLanguage } from 'redux/language/selectors';\n\nimport Loader from 'components/Loader';\n\nimport inputReducer from './inputReducer';\n\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\n\nimport {\n  useAddContactMutation,\n  useFetchContactsQuery,\n} from '../../redux/contacts/contactsApi/contactsAPI';\n\nimport s from './ContactForm.module.css';\n\nconst initialValue = {\n  number: '',\n  name: '',\n};\n\nconst ContactForm = () => {\n  const lang = useSelector(getLanguage, shallowEqual);\n\n  const [{ name, number }, dispatchReducer] = useReducer(\n    inputReducer,\n    initialValue\n  );\n\n  const { data: contacts } = useFetchContactsQuery();\n  const [addContact, { isLoading: isDeleting, isError }] =\n    useAddContactMutation();\n\n  useEffect(() => {\n    login.submit();\n  }, [contacts]);\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    if (isUniqueName(name)) {\n      addContact({ name, number });\n      toast.info(`\"${name}\" ${lang.main_addContactMessage}`);\n    }\n    dispatchReducer({ type: 'reset', payload: initialValue });\n  };\n\n  const isUniqueName = newName => {\n    const searchUnique = newName.toLowerCase();\n    if (contacts.find(({ name }) => name.toLowerCase() === searchUnique)) {\n      toast.info(`\"${newName}\" ${lang.main_uniqueContactNameMessage}`);\n      return false;\n    }\n    return true;\n  };\n\n  const handleInputChange = e => {\n    const { name, value } = e.currentTarget;\n    dispatchReducer({ type: name, payload: value });\n  };\n\n  if (isError) {\n    toast.info(lang.main_fetchErrorMessage);\n  }\n\n  const classNameRow = `align-items-center ${s.row}`;\n\n  return (\n    <Form onSubmit={handleFormSubmit}>\n      <Row className={classNameRow}>\n        <Col xs>\n          <Form.Label htmlFor=\"name\" className=\"formLabel\">\n            {lang.main_labelInputName}\n          </Form.Label>\n          <Form.Control\n            className=\"mb-2\"\n            id=\"name\"\n            placeholder={lang.main_placeholderInputName}\n            type=\"text\"\n            name=\"name\"\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title={lang.main_titleInputName}\n            value={name}\n            onChange={handleInputChange}\n            required\n          />\n        </Col>\n        <Col xs>\n          <Form.Label htmlFor=\"number\" className=\"formLabel\">\n            {lang.main_labelInputPhone}\n          </Form.Label>\n          <Form.Control\n            className=\"mb-2\"\n            id=\"number\"\n            placeholder={lang.main_placeholderInputPhone}\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title={lang.main_titleInputPhone}\n            value={number}\n            onChange={handleInputChange}\n            required\n          />\n        </Col>\n      </Row>\n      <div className=\"d-grid gap-2 marginBottom\">\n        <Button variant=\"primary\" type=\"submit\" disabled={isDeleting}>\n          {isDeleting ? (\n            <Loader width=\"45\" height=\"10\" color=\"#fff\" />\n          ) : (\n            <span>{lang.main_btnAddContact}</span>\n          )}\n        </Button>\n      </div>\n    </Form>\n  );\n};\n\nexport default ContactForm;\n","export const getFilter = state => state.filter.filter;\n","import React from 'react';\n\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\nimport { setFilter } from 'redux/contacts/filter/filterSlice';\nimport { getFilter } from 'redux/contacts/filter/selectors';\nimport { getLanguage } from 'redux/language/selectors';\n\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\n\nconst Filter = () => {\n  const lang = useSelector(getLanguage, shallowEqual);\n  const filter = useSelector(getFilter, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleFilterChange = e => {\n    dispatch(setFilter(e.target.value));\n  };\n\n  return (\n    <Form className=\"marginBottom\">\n      <Form.Group as={Row} className=\"mb-3\" controlId=\"formHorizontalEmail\">\n        <Form.Label column sm=\"auto\" className=\"formLabel\">\n          {lang.main_labelInputFilter}\n        </Form.Label>\n        <Col sm>\n          <Form.Control\n            type=\"text\"\n            placeholder={lang.main_placeholderInputFilter}\n            onChange={handleFilterChange}\n            value={filter}\n            name=\"filter\"\n            title={lang.main_titleInputFilter}\n          />\n        </Col>\n      </Form.Group>\n    </Form>\n  );\n};\n\nexport default Filter;\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"ContactItem_row__seopa\",\"colName\":\"ContactItem_colName__YqDc1\",\"colButton\":\"ContactItem_colButton__8G4kF\",\"colPhone\":\"ContactItem_colPhone__ueQkK\",\"name\":\"ContactItem_name__XjpNK\",\"phone\":\"ContactItem_phone__Q4h3y\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { useDeleteContactMutation } from '../../redux/contacts/contactsApi/contactsAPI';\n\nimport { toast } from 'react-toastify';\nimport Loader from 'components/Loader';\n\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport s from './ContactItem.module.css';\n\nconst ContactItem = ({ id, name, number }) => {\n  const [deleteContact, { isLoading: isDeleting, isError }] =\n    useDeleteContactMutation();\n\n  const handleDeleteClick = () => {\n    deleteContact(id);\n\n    toast.info(`\"${name}\" removed from your contacts`);\n  };\n\n  if (isError) {\n    toast.info(`Error`);\n    return <h2 className=\"formLabel errorSize\">ERROR</h2>;\n  }\n\n  return (\n    <ListGroup.Item\n      style={{\n        borderRadius: '5px',\n      }}\n    >\n      <Row className={s.row}>\n        <Col className={s.colName}>\n          <span className={s.name}> {name} </span>\n        </Col>\n        <Col className={s.colPhone}>\n          <span className={s.number}> {number} </span>\n        </Col>\n        <Col className={s.colButton}>\n          <Button\n            type=\"button\"\n            onClick={handleDeleteClick}\n            disabled={isDeleting}\n            variant=\"primary\"\n          >\n            {isDeleting ? (\n              <Loader width=\"45\" height=\"10\" color=\"#fff\" />\n            ) : (\n              <span>Delete</span>\n            )}\n          </Button>\n        </Col>\n      </Row>\n    </ListGroup.Item>\n  );\n};\n\nContactItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n\nexport default ContactItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ContactList_list__csErn\"};","import React, { useMemo } from 'react';\n\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { useFetchContactsQuery } from 'redux/contacts/contactsApi/contactsAPI';\nimport { getFilter } from 'redux/contacts/filter/selectors';\nimport { getLanguage } from 'redux/language/selectors';\nimport { toast } from 'react-toastify';\n\nimport ContactItem from '../ContactItem/';\n\nimport Loader from 'components/Loader';\n\nimport ListGroup from 'react-bootstrap/ListGroup';\n\nimport s from './ContactList.module.css';\n\nconst ContactList = () => {\n  const lang = useSelector(getLanguage, shallowEqual);\n\n  const filter = useSelector(getFilter, shallowEqual);\n  const { data: contacts, isLoading, isError } = useFetchContactsQuery();\n\n  const filteredContacts = useMemo(() => {\n    if (isLoading) {\n      return;\n    }\n\n    if (contacts) {\n      return contacts.filter(({ name }) =>\n        name.toLowerCase().includes(filter.toLowerCase().trim())\n      );\n    }\n  }, [filter, contacts, isLoading]);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (isError) {\n    toast.info(`Error`);\n    return (\n      <h2 className=\"formLabel errorSize\">{lang.main_fetchErrorMessage}</h2>\n    );\n  }\n\n  if (filteredContacts.length === 0) {\n    return <h2 className=\"formLabel errorSize\">{lang.main_contactNotFound}</h2>;\n  }\n\n  const elements = filteredContacts.map(({ id, name, number }) => (\n    <ContactItem key={id} id={id} name={name} number={number} />\n  ));\n\n  return (\n    <ListGroup className={s.list} variant=\"flush\">\n      {elements}\n    </ListGroup>\n  );\n};\n\nexport default ContactList;\n","import { useEffect, useState, useRef } from 'react';\n\nimport ConfettiComponent from 'react-confetti';\nimport ReactDOM from 'react-dom';\n\nimport { login } from './utils';\n\nconst TIMEOUT = 4_000;\nconst ANIMATION_DURATION = 2_000;\n\nexport const Confetti = () => {\n  const [party, setParty] = useState(true);\n  const [size, setSize] = useState({\n    y: window.innerHeight,\n    x: window.innerWidth - 20,\n  });\n\n  useEffect(() => {\n    const resize = () =>\n      setSize({ y: window?.innerHeight, x: window.innerWidth - 20 });\n    window.addEventListener('resize', resize);\n    return () => window.removeEventListener('resize', resize);\n  }, []);\n\n  useEffect(() => {\n    const id = setTimeout(() => {\n      setParty(false);\n    }, ANIMATION_DURATION);\n\n    return () => {\n      clearTimeout(id);\n    };\n  }, []);\n\n  return ReactDOM.createPortal(\n    <ConfettiComponent\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        zIndex: 100000,\n        width: '100%',\n        pointerEvents: 'none',\n      }}\n      numberOfPieces={party ? 200 : 0}\n      gravity={0.3}\n      onConfettiComplete={confetti => {\n        setParty(false);\n        confetti?.reset();\n      }}\n      width={size.x}\n      height={size.y}\n    />,\n    document.body\n  );\n};\n\nexport const ConfettiContainer = () => {\n  const timeoutId = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    login.on('confetti', setIsOpen);\n    return () => {\n      login.off('confetti', setIsOpen);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isOpen) {\n      timeoutId.current = setTimeout(() => {\n        login.close();\n      }, TIMEOUT);\n    }\n\n    return () => {\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n    };\n  }, [isOpen]);\n\n  return isOpen && <Confetti />;\n};\n","import React from 'react';\n\nimport Section from 'components/Section';\nimport ContactForm from 'components/ContactForm';\nimport Filter from 'components/Filter';\nimport ContactList from 'components/ContactList';\n\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { getLanguage } from 'redux/language/selectors';\nimport { ConfettiContainer } from 'components/Confetti/Confetti';\n\nconst PhonebookPage = () => {\n  const lang = useSelector(getLanguage, shallowEqual);\n\n  return (\n    <main className=\"box\">\n      <Section title={lang.main_phonebook}>\n        <ContactForm />\n      </Section>\n\n      <Filter />\n\n      <ContactList />\n      <ConfettiContainer />\n    </main>\n  );\n};\nexport default PhonebookPage;\n"],"names":["title","children","className","s","LoginEmmiter","submit","emit","close","EventEmitter","login","state","action","type","name","payload","number","initialValue","lang","useSelector","getLanguage","shallowEqual","useReducer","inputReducer","dispatchReducer","contacts","useFetchContactsQuery","data","useAddContactMutation","addContact","isDeleting","isLoading","isError","useEffect","isUniqueName","newName","searchUnique","toLowerCase","find","toast","main_uniqueContactNameMessage","handleInputChange","e","currentTarget","value","main_fetchErrorMessage","classNameRow","Form","onSubmit","preventDefault","main_addContactMessage","Row","Col","xs","htmlFor","main_labelInputName","id","placeholder","main_placeholderInputName","pattern","main_titleInputName","onChange","required","main_labelInputPhone","main_placeholderInputPhone","main_titleInputPhone","Button","variant","disabled","Loader","width","height","color","main_btnAddContact","getFilter","filter","dispatch","useDispatch","as","controlId","column","sm","main_labelInputFilter","main_placeholderInputFilter","setFilter","target","main_titleInputFilter","useDeleteContactMutation","deleteContact","ListGroup","style","borderRadius","onClick","filteredContacts","useMemo","includes","trim","length","main_contactNotFound","elements","map","Confetti","useState","party","setParty","y","window","innerHeight","x","innerWidth","size","setSize","resize","addEventListener","removeEventListener","setTimeout","clearTimeout","ReactDOM","position","top","left","zIndex","pointerEvents","numberOfPieces","gravity","onConfettiComplete","confetti","reset","document","body","ConfettiContainer","timeoutId","useRef","isOpen","setIsOpen","on","off","current","Section","main_phonebook"],"sourceRoot":""}