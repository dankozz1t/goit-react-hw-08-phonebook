"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[621],{3418:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var r="Section_title__SLHvV",a=t(184),o=function(e){var n=e.title,t=e.children;return(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:r,children:n}),t]})}},1621:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(2791),a=t(3418),o=t(885),i=t(8235),c=t(9085),s=t(3144),l=t(5671),u=t(136),m=t(4104),d=t(7465),f=function(e){(0,u.Z)(t,e);var n=(0,m.Z)(t);function t(){var e;(0,l.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).submit=function(){e.emit("confetti",!0)},e.close=function(){e.emit("confetti",!1)},e}return(0,s.Z)(t)}(t.n(d)()),h=new f,p=t(4566),x=t(3360),v=t(2677),Z=t(9186),_=t(9743),j=t(1413),b=function(e,n){switch(n.type){case"name":return(0,j.Z)((0,j.Z)({},e),{},{name:n.payload});case"number":return(0,j.Z)((0,j.Z)({},e),{},{number:n.payload});case"reset":return(0,j.Z)({},n.payload);default:return e}},w="ContactForm_row__N6rAe",N=t(5048),C=t(8445),y=t(184),g={number:"",name:""},L=function(){var e=(0,N.v9)(C.G3,N.wU),n=(0,r.useReducer)(b,g),t=(0,o.Z)(n,2),a=t[0],s=a.name,l=a.number,u=t[1],m=(0,i.Jx)().data,d=(0,i.Tn)(),f=(0,o.Z)(d,2),j=f[0],L=f[1],I=L.isLoading,E=L.isError;(0,r.useEffect)((function(){h.submit()}),[m]);var A=function(n){var t=n.toLowerCase();return!m.find((function(e){return e.name.toLowerCase()===t}))||(c.Am.info('"'.concat(n,'" ').concat(e.main_uniqueContactNameMessage)),!1)},k=function(e){var n=e.currentTarget,t=n.name,r=n.value;u({type:t,payload:r})};E&&c.Am.info(e.main_fetchErrorMessage);var z="align-items-center ".concat(w);return(0,y.jsxs)(Z.Z,{onSubmit:function(n){n.preventDefault(),A(s)&&(j({name:s,number:l}),c.Am.info('"'.concat(s,'" ').concat(e.main_addContactMessage))),u({type:"reset",payload:g})},children:[(0,y.jsxs)(_.Z,{className:z,children:[(0,y.jsxs)(v.Z,{xs:!0,children:[(0,y.jsx)(Z.Z.Label,{htmlFor:"name",className:"formLabel",children:e.main_labelInputName}),(0,y.jsx)(Z.Z.Control,{className:"mb-2",id:"name",placeholder:e.main_placeholderInputName,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:e.main_titleInputName,value:s,onChange:k,required:!0})]}),(0,y.jsxs)(v.Z,{xs:!0,children:[(0,y.jsx)(Z.Z.Label,{htmlFor:"number",className:"formLabel",children:e.main_labelInputPhone}),(0,y.jsx)(Z.Z.Control,{className:"mb-2",id:"number",placeholder:e.main_placeholderInputPhone,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:e.main_titleInputPhone,value:l,onChange:k,required:!0})]})]}),(0,y.jsx)("div",{className:"d-grid gap-2 marginBottom",children:(0,y.jsx)(x.Z,{variant:"primary",type:"submit",disabled:I,children:I?(0,y.jsx)(p.Z,{width:"45",height:"10",color:"#fff"}):(0,y.jsx)("span",{children:e.main_btnAddContact})})})]})},I=t(300),E=function(e){return e.filter.filter},A=function(){var e=(0,N.v9)(C.G3,N.wU),n=(0,N.v9)(E,N.wU),t=(0,N.I0)();return(0,y.jsx)(Z.Z,{className:"marginBottom",children:(0,y.jsxs)(Z.Z.Group,{as:_.Z,className:"mb-3",controlId:"formHorizontalEmail",children:[(0,y.jsx)(Z.Z.Label,{column:!0,sm:"auto",className:"formLabel",children:e.main_labelInputFilter}),(0,y.jsx)(v.Z,{sm:!0,children:(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:e.main_placeholderInputFilter,onChange:function(e){t((0,I.T)(e.target.value))},value:n,name:"filter",title:e.main_titleInputFilter})})]})})},k=t(8058),z={row:"ContactItem_row__seopa",colName:"ContactItem_colName__YqDc1",colButton:"ContactItem_colButton__8G4kF",colPhone:"ContactItem_colPhone__ueQkK",name:"ContactItem_name__XjpNK",phone:"ContactItem_phone__Q4h3y"},R=function(e){var n=e.id,t=e.name,r=e.number,a=(0,i.Nt)(),s=(0,o.Z)(a,2),l=s[0],u=s[1],m=u.isLoading;return u.isError?(c.Am.info("Error"),(0,y.jsx)("h2",{className:"formLabel errorSize",children:"ERROR"})):(0,y.jsx)(k.Z.Item,{style:{borderRadius:"5px"},children:(0,y.jsxs)(_.Z,{className:z.row,children:[(0,y.jsx)(v.Z,{className:z.colName,children:(0,y.jsxs)("span",{className:z.name,children:[" ",t," "]})}),(0,y.jsx)(v.Z,{className:z.colPhone,children:(0,y.jsxs)("span",{className:z.number,children:[" ",r," "]})}),(0,y.jsx)(v.Z,{className:z.colButton,children:(0,y.jsx)(x.Z,{type:"button",onClick:function(){l(n),c.Am.info('"'.concat(t,'" removed from your contacts'))},disabled:m,variant:"primary",children:m?(0,y.jsx)(p.Z,{width:"45",height:"10",color:"#fff"}):(0,y.jsx)("span",{children:"Delete"})})})]})})},S="ContactList_list__csErn",P=function(){var e=(0,N.v9)(E,N.wU),n=(0,i.Jx)(),t=n.data,a=n.isLoading,o=n.isError,s=(0,r.useMemo)((function(){if(!a)return t?t.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase().trim())})):void 0}),[e,t,a]);if(a)return(0,y.jsx)(p.Z,{});if(o)return c.Am.info("Error"),(0,y.jsx)("h2",{className:"formLabel errorSize",children:"ERROR"});if(0===s.length)return(0,y.jsx)("h2",{className:"formLabel errorSize",children:"Contact not found"});var l=s.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,y.jsx)(R,{id:n,name:t,number:r},n)}));return(0,y.jsx)(k.Z,{className:S,variant:"flush",children:l})},F=t(1425),T=t.n(F),B=t(4164),G=function(){var e=(0,r.useState)(!0),n=(0,o.Z)(e,2),t=n[0],a=n[1],i=(0,r.useState)({y:window.innerHeight,x:window.innerWidth-20}),c=(0,o.Z)(i,2),s=c[0],l=c[1];return(0,r.useEffect)((function(){var e=function(){var e;return l({y:null===(e=window)||void 0===e?void 0:e.innerHeight,x:window.innerWidth-20})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((function(){var e=setTimeout((function(){a(!1)}),2e3);return function(){clearTimeout(e)}}),[]),B.createPortal((0,y.jsx)(T(),{style:{position:"fixed",top:0,left:0,zIndex:1e5,width:"100%",pointerEvents:"none"},numberOfPieces:t?200:0,gravity:.3,onConfettiComplete:function(e){a(!1),null===e||void 0===e||e.reset()},width:s.x,height:s.y}),document.body)},U=function(){var e=(0,r.useRef)(null),n=(0,r.useState)(!1),t=(0,o.Z)(n,2),a=t[0],i=t[1];return(0,r.useEffect)((function(){return h.on("confetti",i),function(){h.off("confetti",i)}}),[]),(0,r.useEffect)((function(){return a&&(e.current=setTimeout((function(){h.close()}),4e3)),function(){e.current&&clearTimeout(e.current)}}),[a]),a&&(0,y.jsx)(G,{})},q=function(){var e=(0,N.v9)(C.G3,N.wU);return(0,y.jsxs)("main",{className:"box",children:[(0,y.jsx)(a.Z,{title:e.main_phonebook,children:(0,y.jsx)(L,{})}),(0,y.jsx)(A,{}),(0,y.jsx)(P,{}),(0,y.jsx)(U,{})]})}}}]);
//# sourceMappingURL=621.eee195f3.chunk.js.map