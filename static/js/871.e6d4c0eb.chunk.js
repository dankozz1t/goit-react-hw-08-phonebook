"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[871],{8871:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(2791),a="Section_title__SLHvV",o=t(184),i=function(e){var n=e.title,t=e.children;return(0,o.jsxs)("section",{children:[(0,o.jsx)("h2",{className:a,children:n}),t]})},s=t(885),c=t(8235),l=t(9085),u=t(3144),m=t(5671),d=t(136),f=t(4104),h=t(7465),x=function(e){(0,d.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,m.Z)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).submit=function(){e.emit("confetti",!0)},e.close=function(){e.emit("confetti",!1)},e}return(0,u.Z)(t)}(t.n(h)()),p=new x,b=t(4566),j=t(3360),v=t(2677),Z=t(9186),w=t(9743),_=t(1413),y=function(e,n){switch(n.type){case"name":return(0,_.Z)((0,_.Z)({},e),{},{name:n.payload});case"number":return(0,_.Z)((0,_.Z)({},e),{},{number:n.payload});case"reset":return(0,_.Z)({},n.payload);default:return e}},N="ContactForm_row__N6rAe",C={number:"",name:""},g=function(){var e=(0,r.useReducer)(y,C),n=(0,s.Z)(e,2),t=n[0],a=t.name,i=t.number,u=n[1],m=(0,c.Jx)().data,d=(0,c.Tn)(),f=(0,s.Z)(d,2),h=f[0],x=f[1],_=x.isLoading,g=x.isError;(0,r.useEffect)((function(){p.submit()}),[m]);var L=function(e){var n=e.toLowerCase();return!m.find((function(e){return e.name.toLowerCase()===n}))||(l.Am.info('"'.concat(e,'" is already in contacts')),!1)},E=function(e){var n=e.currentTarget,t=n.name,r=n.value;u({type:t,payload:r})};g&&l.Am.info("Error");var A="align-items-center ".concat(N);return(0,o.jsxs)(Z.Z,{onSubmit:function(e){e.preventDefault(),L(a)&&(h({name:a,number:i}),l.Am.info('"'.concat(a,'" added to your contacts'))),u({type:"reset",payload:C})},children:[(0,o.jsxs)(w.Z,{className:A,children:[(0,o.jsxs)(v.Z,{xs:!0,children:[(0,o.jsx)(Z.Z.Label,{htmlFor:"name",className:"formLabel",children:"Name"}),(0,o.jsx)(Z.Z.Control,{className:"mb-2",id:"name",placeholder:"Alex",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:a,onChange:E,required:!0})]}),(0,o.jsxs)(v.Z,{xs:!0,children:[(0,o.jsx)(Z.Z.Label,{htmlFor:"number",className:"formLabel",children:"Phone"}),(0,o.jsx)(Z.Z.Control,{className:"mb-2",id:"number",placeholder:"410-371-6599",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:i,onChange:E,required:!0})]})]}),(0,o.jsx)("div",{className:"d-grid gap-2 marginBottom",children:(0,o.jsx)(j.Z,{variant:"primary",type:"submit",disabled:_,children:_?(0,o.jsx)(b.Z,{width:"45",height:"10",color:"#fff"}):(0,o.jsx)("span",{children:"Add Contact"})})})]})},L=t(5048),E=t(300),A=function(e){return e.filter.filter},k=function(){var e=(0,L.v9)(A,L.wU),n=(0,L.I0)();return(0,o.jsx)(Z.Z,{className:"marginBottom",children:(0,o.jsxs)(Z.Z.Group,{as:w.Z,className:"mb-3",controlId:"formHorizontalEmail",children:[(0,o.jsx)(Z.Z.Label,{column:!0,sm:6,className:"formLabel",children:"Find contacts by name"}),(0,o.jsx)(v.Z,{sm:6,children:(0,o.jsx)(Z.Z.Control,{type:"text",placeholder:"Alex",onChange:function(e){n((0,E.T)(e.target.value))},value:e,name:"filter",title:"Find contacts by name"})})]})})},z=t(8058),I={row:"ContactItem_row__seopa",colName:"ContactItem_colName__YqDc1",colButton:"ContactItem_colButton__8G4kF",colPhone:"ContactItem_colPhone__ueQkK",name:"ContactItem_name__XjpNK",phone:"ContactItem_phone__Q4h3y"},P=function(e){var n=e.id,t=e.name,r=e.number,a=(0,c.Nt)(),i=(0,s.Z)(a,2),u=i[0],m=i[1],d=m.isLoading;return m.isError?(l.Am.info("Error"),(0,o.jsx)("h2",{className:"formLabel errorSize",children:"ERROR"})):(0,o.jsx)(z.Z.Item,{style:{borderRadius:"5px"},children:(0,o.jsxs)(w.Z,{className:I.row,children:[(0,o.jsx)(v.Z,{className:I.colName,children:(0,o.jsxs)("span",{className:I.name,children:[" ",t," "]})}),(0,o.jsx)(v.Z,{className:I.colPhone,children:(0,o.jsxs)("span",{className:I.number,children:[" ",r," "]})}),(0,o.jsx)(v.Z,{className:I.colButton,children:(0,o.jsx)(j.Z,{type:"button",onClick:function(){u(n),l.Am.info('"'.concat(t,'" removed from your contacts'))},disabled:d,variant:"primary",children:d?(0,o.jsx)(b.Z,{width:"45",height:"10",color:"#fff"}):(0,o.jsx)("span",{children:"Delete"})})})]})})},R="ContactList_list__csErn",S=function(){var e=(0,L.v9)(A,L.wU),n=(0,c.Jx)(),t=n.data,a=n.isLoading,i=n.isError,s=(0,r.useMemo)((function(){if(!a)return console.log(t),t?t.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase().trim())})):void 0}),[e,t,a]);if(a)return(0,o.jsx)(b.Z,{});if(i)return l.Am.info("Error"),(0,o.jsx)("h2",{className:"formLabel errorSize",children:"ERROR"});if(0===s.length)return(0,o.jsx)("h2",{className:"formLabel errorSize",children:"Contact not found"});var u=s.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,o.jsx)(P,{id:n,name:t,number:r},n)}));return(0,o.jsx)(z.Z,{className:R,variant:"flush",children:u})},F=t(1425),T=t.n(F),B=t(4164),H=function(){var e=(0,r.useState)(!0),n=(0,s.Z)(e,2),t=n[0],a=n[1],i=(0,r.useState)({y:window.innerHeight,x:window.innerWidth-20}),c=(0,s.Z)(i,2),l=c[0],u=c[1];return(0,r.useEffect)((function(){var e=function(){var e;return u({y:null===(e=window)||void 0===e?void 0:e.innerHeight,x:window.innerWidth-20})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((function(){var e=setTimeout((function(){a(!1)}),2e3);return function(){clearTimeout(e)}}),[]),B.createPortal((0,o.jsx)(T(),{style:{position:"fixed",top:0,left:0,zIndex:1e5,width:"100%",pointerEvents:"none"},numberOfPieces:t?200:0,gravity:.3,onConfettiComplete:function(e){a(!1),null===e||void 0===e||e.reset()},width:l.x,height:l.y}),document.body)},q=function(){var e=(0,r.useRef)(null),n=(0,r.useState)(!1),t=(0,s.Z)(n,2),a=t[0],i=t[1];return(0,r.useEffect)((function(){return p.on("confetti",i),function(){p.off("confetti",i)}}),[]),(0,r.useEffect)((function(){return a&&(e.current=setTimeout((function(){p.close()}),4e3)),function(){e.current&&clearTimeout(e.current)}}),[a]),a&&(0,o.jsx)(H,{})},D=(t(7632),"TaskPhonebook_box__6NXaF"),J=function(){return(0,o.jsxs)("div",{className:D,children:[(0,o.jsx)(i,{title:"Phonebook",children:(0,o.jsx)(g,{})}),(0,o.jsx)(k,{}),(0,o.jsx)(S,{}),(0,o.jsx)(q,{})]})}}}]);
//# sourceMappingURL=871.e6d4c0eb.chunk.js.map